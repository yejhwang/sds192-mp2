---
title: "Mini-Project 2"
author: "Lisa Chen and Yejin Hwang"
date: "October 31, 2017"
output: html_document
---

```{r, include=FALSE}
## Loading the data
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")

library(dplyr)
library(tidyverse)
library(ggplot2)
```

```{r, eval=FALSE}
# selected columns for smaller dataframes and saved
candidate_info <- candidates %>%
  select(cand_id, cand_name, cand_party_affiliation, cand_election_yr, cand_office)

save(candidate_info,file="candidate_info.rda")
glimpse(candidate_info)

committee_info <- committees %>%
  select(cmte_id, org_type, cand_id)

save(committee_info,file="committee_info.rda")
glimpse(committee_info)

contribution_info <- contributions %>%
  select(cmte_id,transaction_amt,cand_id)

save(contribution_info,file="contribution_info.rda")
glimpse(contribution_info)
```

```{r,eval=FALSE}
join_two <- contribution_info %>%
  inner_join(candidate_info, by = c("cand_id"="cand_id"))

joined_three <- join_two %>%
  inner_join(committee_info, by = c("cmte_id"="cmte_id"))

summarise(joined_three,yrmin = min(cand_election_yr), yrmax = max(cand_election_yr), offices = n_distinct(cand_office), num_candID_in_committees = n_distinct(cand_id.y))

joined_three <- joined_three %>%
  filter(cand_party_affiliation == "DEM" | cand_party_affiliation == "REP"|cand_election_yr >=2009)

```
```{r}
house <- joined_three %>%
  filter(cand_office == 'H')
senate <- joined_three %>%
  filter(cand_office == 'S')
presidential <- joined_three %>%
  filter(cand_office == 'P')
```
```{r}
#house_2 <- house %>%
 # group_by(cand_election_yr) %>%
  #spread(cand_party_affiliation, transaction_amt)
 # group_by(cand_election_yr,cand_party_affiliation) %>%
  
  
house_plot <- ggplot(data = house,aes(x = cand_election_yr, y=transaction_amt)) +
  geom_jitter()
house_plot
```